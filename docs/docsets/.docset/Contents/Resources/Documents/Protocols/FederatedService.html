<!DOCTYPE html>
<html lang="en">
  <head>
    <title>FederatedService Protocol Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Protocol/FederatedService" class="dashAnchor"></a>
    <a title="FederatedService Protocol Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html"> Docs</a> (80% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html"> Reference</a>
        <img id="carat" src="../img/carat.png" />
        FederatedService Protocol Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/GitHub.html">GitHub</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/GitHubAuth.html">GitHubAuth</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/GitHubRouter.html">GitHubRouter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Google.html">Google</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/GoogleAuth.html">GoogleAuth</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/GoogleJWT.html">GoogleJWT</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/GoogleJWTAuth.html">GoogleJWTAuth</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/GoogleJWTRouter.html">GoogleJWTRouter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/GoogleRouter.html">GoogleRouter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ImperialMiddleware.html">ImperialMiddleware</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/ImperialError.html">ImperialError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/ServiceError.html">ServiceError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Extensions/Optional.html">Optional</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Request.html">Request</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Router.html">Router</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Session.html">Session</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/FederatedCreatable.html">FederatedCreatable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FederatedService.html">FederatedService</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FederatedServiceRouter.html">FederatedServiceRouter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/FederatedServiceTokens.html">FederatedServiceTokens</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/GoogleJWTPayload.html">GoogleJWTPayload</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/GoogleJWTResponse.html">GoogleJWTResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/GoogleJWTResponse/CodingKeys.html">â€“ CodingKeys</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/OAuthService.html">OAuthService</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>FederatedService</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">FederatedService</span></code></pre>

                </div>
              </div>
            <p>Represents a connection to an OAuth provider to get an access token for authenticating a user.</p>

<p>Usage:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">HTTP</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="kt">Service</span><span class="p">:</span> <span class="kt">FederatedService</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">tokens</span><span class="p">:</span> <span class="kt">FederatedServiceTokens</span>
    <span class="kd">public</span> <span class="k">var</span> <span class="nv">router</span><span class="p">:</span> <span class="kt">FederatedServiceRouter</span>

    <span class="kd">@discardableResult</span>
    <span class="kd">public</span> <span class="kd">required</span> <span class="nf">init</span><span class="p">(</span><span class="nv">authenticate</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">scope</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span> <span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="kt">ResponseRepresentable</span><span class="p">))</span> <span class="k">throws</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">router</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">ServiceRouter</span><span class="p">(</span><span class="nv">callback</span><span class="p">:</span> <span class="n">callback</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="n">completion</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="n">tokens</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">router</span><span class="o">.</span><span class="n">tokens</span>

        <span class="k">self</span><span class="o">.</span><span class="n">router</span><span class="o">.</span><span class="n">scope</span> <span class="o">=</span> <span class="n">scope</span>
        <span class="k">try</span> <span class="k">self</span><span class="o">.</span><span class="n">router</span><span class="o">.</span><span class="nf">configureRoutes</span><span class="p">(</span><span class="nv">withAuthURL</span><span class="p">:</span> <span class="n">authenticate</span><span class="p">)</span>

        <span class="kt">Service</span><span class="o">.</span><span class="nf">register</span><span class="p">(</span><span class="o">.</span><span class="n">service</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Imperial16FederatedServiceP6tokensAA0bC6Tokens_pvp"></a>
                    <a name="//apple_ref/swift/Property/tokens" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Imperial16FederatedServiceP6tokensAA0bC6Tokens_pvp">tokens</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The service&rsquo;s token model for getting the client ID and secret.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">tokens</span><span class="p">:</span> <span class="kt"><a href="../Protocols/FederatedServiceTokens.html">FederatedServiceTokens</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Imperial16FederatedServiceP6routerAA0bC6Router_pvp"></a>
                    <a name="//apple_ref/swift/Property/router" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Imperial16FederatedServiceP6routerAA0bC6Router_pvp">router</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The service&rsquo;s router for handling the request for the access token.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">router</span><span class="p">:</span> <span class="kt"><a href="../Protocols/FederatedServiceRouter.html">FederatedServiceRouter</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Imperial16FederatedServicePx5Vapor6Router_p6router_SS12authenticateSS8callbackSaySSG5scope3NIO15EventLoopFutureCyAD17ResponseEncodable_pGAD7RequestC_SStKc10completiontKcfc"></a>
                    <a name="//apple_ref/swift/Method/init(router:authenticate:callback:scope:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Imperial16FederatedServicePx5Vapor6Router_p6router_SS12authenticateSS8callbackSaySSG5scope3NIO15EventLoopFutureCyAD17ResponseEncodable_pGAD7RequestC_SStKc10completiontKcfc">init(router:authenticate:callback:scope:completion:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a service for getting an access token from an OAuth provider.</p>
<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    Any errors that occur in the implementation.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="nf">init</span><span class="p">(</span><span class="nv">router</span><span class="p">:</span> <span class="kt">Router</span><span class="p">,</span> <span class="nv">authenticate</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">scope</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">],</span> <span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Request</span><span class="p">,</span> <span class="kt">String</span><span class="p">)</span><span class="k">throws</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">ResponseEncodable</span><span class="o">&gt;</span><span class="p">))</span><span class="k">throws</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>authenticate</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The path for the route that will redirect the user to the OAuth provider for authentication.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>callback</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The path (or URI) for the route that the provider will call when the user authenticates.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>scope</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The scopes to send to the provider to request access to.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The completion handler that will fire at the end of the callback route. The access token is passed into the callback and the response that is returned will be returned from the callback route. This will usually be a redirect back to the app.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2018 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2018-05-18)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy â™ªâ™« v0.9.1</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
